import numpy as np
import matplotlib.pyplot as plt
from lianji_control.utils import distance


@distance
def calR(height):
    height_ = [0.284271247461902,4.30228320103704,7.82945715469326,10.9991987097171,13.8927201313068,16.5638586749397,
               19.0505047794389,21.3805376641446,23.5751878329105,25.6510717507116,27.6214886532175,29.497282544482,
               31.2874354311266,32.9994877027668,34.6398435502516,36.2139976952066,37.7267069006199,39.1821218777734,
               40.5838902367021,41.9352378990735,43.239034243875,44.4978447955524,45.7139742518337,46.8895019345168,
               48.0263112349928,49.1261142545117,50.1904725653963,51.2208148152996,52.2184517427256,53.18458905482,
               54.1203385282842,55.0267276243018,55.9047078536121,56.7551620846778,57.5789109535755,58.3767185067828,
               59.1492971859211,59.8973122455971,60.621385680884]
    r_ = [i+1 for i in range(len(height_))]
    f1 = np.polyfit(height_, r_, 7)
    p1 = np.poly1d(f1)
    r = p1(height)
    return r


if __name__ == "__main__":
    fun = calR(20)
    print(fun)
